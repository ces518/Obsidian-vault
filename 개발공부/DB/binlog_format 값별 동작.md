
## STATEMENT (SBR)

### 동작

- 실행한 **SQL 문장**을 그대로 binlog에 기록
    
- replica에서 **동일 SQL을 재실행**해 변경 사항을 재현
    

UPDATE t SET col = 1 WHERE id = 10;

### 특징

- binlog 크기가 작다
    
- **쿼리가 결정적으로 동작한다는 가정**에 의존한다
    
- `NOW()`, `UUID()`, `AUTO_INCREMENT`(동시 실행) 등 **비결정적 동작**이 섞이면 재현 결과가 달라질 수 있다
    

### 기본값

|버전|기본값|
|---|---|
|MySQL 5.0 ~ 5.7|**STATEMENT**|

---

## ROW (RBR)

### 동작

- 변경된 row의 **변경 전/후 이미지**를 binlog에 기록
    

id=10, col: 0 → 1

### 특징

- SQL 재실행이 아니라 **결과(row 변화)**를 기록하므로 비결정성 문제가 없다
    
- 병렬 replication에서 동작이 안정적이다
    
- 변경량이 크면 binlog 크기가 커질 수 있다
    

### 기본값

|버전|기본값|
|---|---|
|MySQL 8.0|**ROW**|

---

## MIXED

### 동작

- 기본은 SBR로 기록
    
- 비결정적이거나 안전하지 않은 쿼리는 RBR로 기록
    

### 특징

- SBR과 RBR의 절충안이다
    
- 쿼리별로 기록 방식이 달라져 운영/분석 복잡도가 올라간다
    
- 최근에는 RBR을 주로 사용해 선택 빈도가 낮다
---
